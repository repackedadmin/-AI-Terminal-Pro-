# ================================================
# TTS Pro Configuration for AI Terminal Pro
# Enhanced TTS Mode using MiraiAssist Components
# ================================================

# --- LLM (Large Language Model) Settings ---
llm:
  api_base_url: "internal"  # Uses internal AIEngine
  api_key_env_var: "NONE"
  model_name: "internal"     # Uses configured model from main config
  tokenizer_source_for_estimation: "gpt2"
  model_context_window: 8192
  system_prompt: "You are a helpful AI assistant. Respond clearly and concisely. You can remember our previous conversations."
  temperature: 0.7
  max_tokens: 2000
  timeout_seconds: 120.0
  max_retries: 1

# --- Context Manager (RAG) Settings ---
context_manager:
  storage_path: "data/tts_pro_conversation.json"  # Full raw conversation history
  vector_db_path: "data/tts_pro_chroma_db"       # ChromaDB persistence path
  embedding_model_name: "all-MiniLM-L6-v2"       # Sentence-transformers model
  collection_name: "tts_pro_chat_history"        # ChromaDB collection name
  retrieval_results: 5                           # How many relevant history chunks to retrieve
  include_recent_messages: 3                     # How many recent messages to always include

# --- Memory Manager Settings ---
memory_manager:
  short_term_window_turns: 3    # Number of recent conversational turns (user+assistant)
  long_term_retrieval_count: 5  # Number of relevant history messages from RAG

# --- STT (Speech-to-Text) Settings ---
stt:
  # Faster Whisper: https://github.com/SYSTRAN/faster-whisper#model-weights
  model_size: "base.en"  # Options: tiny.en, base.en, small.en, medium.en, large-v3
  device: "cpu"          # Options: cpu, cuda (Ensure PyTorch with CUDA if using cuda)
  compute_type: "int8"   # CPU: int8, int16, float32. CUDA: float16, int8_float16, int8
  vad_filter: true       # Enable Voice Activity Detection (recommended)
  vad_parameters:        # Optional VAD tuning
    threshold: 0.5
    min_silence_duration_ms: 1000  # 1 second of silence to stop
    min_speech_duration_ms: 250
    speech_pad_ms: 400
  beam_size: 5           # Higher = more accurate but slower
  language: null         # null = auto-detect, or "en", "ja", etc.
  initial_prompt: null   # Optional prompt to guide transcription

# --- TTS (Text-to-Speech) Settings ---
tts:
  # Kokoro: https://github.com/hexgrad/Kokoro/tree/main#-voices
  lang_code: "a"         # Options: a=American, b=British, j=Japanese
  voice: "af_heart"      # Kokoro voice preset (af_heart, af_bella, af_sarah, am_adam, am_michael, etc.)
  speed: 1.0             # 1.0 = normal speed, 0.8 = slower, 1.2 = faster

# --- Audio Settings ---
audio:
  sample_rate: 16000
  record_chunk_size: 1024
  channels: 1            # Mono
  input_device: null     # null = default device, or index (e.g., 1), or partial name
  output_device: null    # null = default device, or index (e.g., 4), or partial name

# --- Activation Settings ---
activation:
  push_to_talk_key: ""   # Disabled for terminal mode (use ENTER instead)

# --- GUI Settings ---
gui:
  theme_preference: "dark"  # system, light, dark

# --- Logging Settings ---
logging:
  console_log_level: "INFO"      # Minimum level for console
  file_logging_enabled: true
  log_directory: "logs"
  application_log_file: "tts_pro.log"
  application_log_level: "DEBUG"
  error_log_file: "tts_pro_errors.log"
  error_log_level: "WARNING"
  log_max_bytes: 5242880           # 5 MB
  log_backup_count: 3
  rich_console_logging: false      # Disable Rich for terminal compatibility
  rich_show_time: true
  rich_show_level: true
  rich_show_path: false
  rich_markup: false
  rich_tracebacks: false

